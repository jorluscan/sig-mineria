{% extends 'base.html' %} {% block content %}
<div class="max-w-7xl mx-auto pb-20 fade-in">
  <div
    class="mb-10 flex flex-col md:flex-row justify-between items-start md:items-end gap-6"
  >
    <div>
      <a
        href="{% url 'inventory_list' %}"
        class="text-gold text-[10px] uppercase tracking-[0.3em] font-bold mb-4 inline-block hover:underline"
      >
        <i class="fas fa-chevron-left mr-2"></i> Volver al Catálogo
      </a>
      <h1 class="font-serif text-5xl text-zinc-900">{{ product.name }}</h1>
      <p
        class="text-zinc-600 mt-2 uppercase tracking-widest text-[10px] font-bold"
      >
        Identificador Logístico: {{ product.sku }}
      </p>
    </div>

    <div
      class="bg-white p-6 rounded-3xl border border-zinc-200 flex items-center space-x-10 shadow-sm"
    >
      <div class="text-right">
        <span
          class="block text-zinc-500 text-[9px] uppercase tracking-widest mb-1 font-bold"
          >Costo</span
        >
        <span class="text-xl font-serif text-zinc-900"
          >${{ product.cost_price }}</span
        >
      </div>
      <div class="h-10 w-px bg-zinc-100"></div>
      <div class="text-right">
        <span
          class="block text-zinc-500 text-[9px] uppercase tracking-widest mb-1 font-bold"
          >Precio Público</span
        >
        <span class="text-3xl font-serif text-gold font-bold"
          >${{ product.sale_price }}</span
        >
      </div>
    </div>
  </div>

  <div class="grid grid-cols-1 lg:grid-cols-3 gap-12">
    <div class="lg:col-span-2 space-y-12">
      <div
        class="bg-white rounded-3xl border border-zinc-200 shadow-sm overflow-hidden"
      >
        <div class="p-8 border-b border-zinc-100 bg-zinc-50/50">
          <h3 class="font-serif text-xl text-zinc-800 italic">
            Disponibilidad en Boutique
          </h3>
        </div>
        <div class="p-0">
          <table class="w-full text-left">
            <thead class="bg-zinc-50 border-b border-zinc-100">
              <tr
                class="text-[10px] uppercase tracking-widest text-zinc-600 font-bold"
              >
                <th class="px-8 py-4">Talla</th>
                <th class="px-8 py-4">Color</th>
                <th class="px-8 py-4 text-center">Stock</th>
                <th class="px-8 py-4">Estado</th>
              </tr>
            </thead>
            <tbody class="divide-y divide-zinc-50">
              {% for variation in variations %}
              <tr class="hover:bg-zinc-50/50 transition-colors">
                <td class="px-8 py-5 text-sm font-bold text-zinc-900 italic">
                  {{ variation.size.name }}
                </td>
                <td class="px-8 py-5 text-sm text-zinc-600">
                  {{ variation.color.name }}
                </td>
                <td class="px-8 py-5 text-center">
                  <span
                    class="font-serif text-lg {% if variation.stock <= 3 %}text-red-500 font-bold{% else %}text-zinc-900{% endif %}"
                  >
                    {{ variation.stock }}
                  </span>
                </td>
                <td class="px-8 py-5">
                  {% if variation.stock > 0 %}
                  <span
                    class="text-[9px] bg-green-50 text-green-700 px-3 py-1 rounded-full font-bold uppercase tracking-widest border border-green-100"
                    >Disponible</span
                  >
                  {% else %}
                  <span
                    class="text-[9px] bg-red-50 text-red-700 px-3 py-1 rounded-full font-bold uppercase tracking-widest border border-red-100"
                    >Agotado</span
                  >
                  {% endif %}
                </td>
              </tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>

    <div class="space-y-8">
      <div
        class="bg-zinc-900 p-8 rounded-3xl text-center shadow-xl border border-zinc-800"
      >
        <p
          class="text-[10px] uppercase tracking-widest text-zinc-500 mb-6 font-bold italic"
        >
          Acciones de Inventario
        </p>
        <div class="space-y-4">
          <a
            href="{% url 'create_stock_arrival' %}?product={{ product.id }}"
            class="block w-full bg-gold text-black py-4 rounded-full text-[10px] font-bold uppercase tracking-widest hover:bg-yellow-500 transition-all"
          >
            <i class="fas fa-plus mr-2"></i> Registrar Ingreso
          </a>
          <a
            href="{% url 'create_dispatch' %}?product={{ product.id }}"
            class="block w-full bg-transparent border border-zinc-700 text-zinc-400 py-4 rounded-full text-[10px] font-bold uppercase tracking-widest hover:text-white hover:border-white transition-all"
          >
            <i class="fas fa-minus mr-2"></i> Registrar Despacho
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
